{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["import axios from 'axios';\n\nconst myApiKey = '17309902-7cbadf7b99e6a7450a84508e7';\n\nexport function fetchImages(searchedQuery) {\n  const BASE_URL = 'https://pixabay.com/api/';\n  const params = {\n    key: myApiKey,\n    q: searchedQuery,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: true,\n  };\n\n  return axios\n    .get(BASE_URL, { params })\n    .then(response => response.data)\n    .catch(error => {\n      console.error('Fetch error:', error);\n      throw error;\n    });\n}\n\n//   return fetch(\n//     `https://pixabay.com/api/?key=17309902-7cbadf7b99e6a7450a84508e7&q=${searchedQuery}&image_type=photo$orientation=horizontal$safesearch=true`\n//   ).then(response => {\n//     if (!response.ok) {\n//       throw new Error(response.status);\n//     }\n//     return response.json();\n//   });\n// }\n","import SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nexport const createGalleryCardTemplate = imgInfo => {\n  return `\n    <li class=\"gallery-card\">\n      <a href=\"${imgInfo.largeImageURL}\" target=\"_blank\">\n        <img src=\"${imgInfo.webformatURL}\" alt=\"${imgInfo.tags}\" class=\"gallery-img\" />\n      </a>\n      <div class=\"info\">\n        <p><b>Likes</b> ${imgInfo.likes}</p>\n        <p><b>Views</b> ${imgInfo.views}</p>\n        <p><b>Comments</b> ${imgInfo.comments}</p>\n        <p><b>Downloads</b> ${imgInfo.downloads}</p>\n      </div>\n    </li>`;\n};\n\nexport const initializeLightbox = () => {\n  return new SimpleLightbox('.gallery a', {\n    captions: true,\n    captionsData: 'alt',\n    captionPosition: 'bottom',\n    captionDelay: 250,\n    scrollZoom: false,\n  });\n};\n","import { fetchImages } from './js/pixabay-api';\nimport {\n  createGalleryCardTemplate,\n  initializeLightbox,\n} from './js/render-functions';\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nconst searchFormEl = document.querySelector('.form');\nconst galleryEl = document.querySelector('.gallery');\nconst loaderEl = document.querySelector('.loader.is-hidden');\n\nlet lightbox = null;\n\nfunction showLoader() {\n  loaderEl.classList.remove('is-hidden');\n}\n\nfunction hideLoader() {\n  loaderEl.classList.add('is-hidden');\n}\n\nconst onSearchFormSubmit = event => {\n  event.preventDefault();\n  showLoader();\n\n  const searchedQuery = event.currentTarget.elements.search_text.value.trim();\n\n  if (!searchedQuery) {\n    hideLoader();\n    return;\n  }\n\n  event.currentTarget.elements.search_text.value = '';\n\n  fetchImages(searchedQuery)\n    .then(data => {\n      if (data.hits.length === 0) {\n        iziToast.show({\n          color: 'red',\n          message: `Sorry, there are no images matching your search query. Please try again!`,\n        });\n        hideLoader();\n        return;\n      }\n\n      const markup = data.hits.map(createGalleryCardTemplate).join('');\n      galleryEl.innerHTML = markup;\n\n      if (!lightbox) {\n        lightbox = initializeLightbox();\n      } else {\n        lightbox.refresh();\n      }\n\n      data.hits.forEach(image => {\n        console.log(image.webformatURL);\n        console.log(image.tags);\n      });\n    })\n    .catch(error => {\n      console.error(error);\n    })\n    .finally(() => {\n      hideLoader();\n    });\n};\n\nsearchFormEl.addEventListener('submit', onSearchFormSubmit);\ndocument.addEventListener('DOMContentLoaded', () => {\n  hideLoader();\n});\n"],"names":["myApiKey","fetchImages","searchedQuery","BASE_URL","params","axios","response","error","createGalleryCardTemplate","imgInfo","initializeLightbox","SimpleLightbox","searchFormEl","galleryEl","loaderEl","lightbox","showLoader","hideLoader","onSearchFormSubmit","event","data","iziToast","markup","image"],"mappings":"owBAEA,MAAMA,EAAW,qCAEV,SAASC,EAAYC,EAAe,CACzC,MAAMC,EAAW,2BACXC,EAAS,CACb,IAAKJ,EACL,EAAGE,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EAChB,EAEE,OAAOG,EACJ,IAAIF,EAAU,CAAE,OAAAC,EAAQ,EACxB,KAAKE,GAAYA,EAAS,IAAI,EAC9B,MAAMC,GAAS,CACd,cAAQ,MAAM,eAAgBA,CAAK,EAC7BA,CACZ,CAAK,CACL,CClBO,MAAMC,EAA4BC,GAChC;AAAA;AAAA,iBAEQA,EAAQ,aAAa;AAAA,oBAClBA,EAAQ,YAAY,UAAUA,EAAQ,IAAI;AAAA;AAAA;AAAA,0BAGpCA,EAAQ,KAAK;AAAA,0BACbA,EAAQ,KAAK;AAAA,6BACVA,EAAQ,QAAQ;AAAA,8BACfA,EAAQ,SAAS;AAAA;AAAA,WAKlCC,EAAqB,IACzB,IAAIC,EAAe,aAAc,CACtC,SAAU,GACV,aAAc,MACd,gBAAiB,SACjB,aAAc,IACd,WAAY,EAChB,CAAG,ECjBGC,EAAe,SAAS,cAAc,OAAO,EAC7CC,EAAY,SAAS,cAAc,UAAU,EAC7CC,EAAW,SAAS,cAAc,mBAAmB,EAE3D,IAAIC,EAAW,KAEf,SAASC,GAAa,CACpBF,EAAS,UAAU,OAAO,WAAW,CACvC,CAEA,SAASG,GAAa,CACpBH,EAAS,UAAU,IAAI,WAAW,CACpC,CAEA,MAAMI,EAAqBC,GAAS,CAClCA,EAAM,eAAc,EACpBH,IAEA,MAAMd,EAAgBiB,EAAM,cAAc,SAAS,YAAY,MAAM,OAErE,GAAI,CAACjB,EAAe,CAClBe,IACA,MACD,CAEDE,EAAM,cAAc,SAAS,YAAY,MAAQ,GAEjDlB,EAAYC,CAAa,EACtB,KAAKkB,GAAQ,CACZ,GAAIA,EAAK,KAAK,SAAW,EAAG,CAC1BC,EAAS,KAAK,CACZ,MAAO,MACP,QAAS,0EACnB,CAAS,EACDJ,IACA,MACD,CAED,MAAMK,EAASF,EAAK,KAAK,IAAIZ,CAAyB,EAAE,KAAK,EAAE,EAC/DK,EAAU,UAAYS,EAEjBP,EAGHA,EAAS,QAAO,EAFhBA,EAAWL,EAAkB,EAK/BU,EAAK,KAAK,QAAQG,GAAS,CACzB,QAAQ,IAAIA,EAAM,YAAY,EAC9B,QAAQ,IAAIA,EAAM,IAAI,CAC9B,CAAO,CACP,CAAK,EACA,MAAMhB,GAAS,CACd,QAAQ,MAAMA,CAAK,CACzB,CAAK,EACA,QAAQ,IAAM,CACbU,GACN,CAAK,CACL,EAEAL,EAAa,iBAAiB,SAAUM,CAAkB,EAC1D,SAAS,iBAAiB,mBAAoB,IAAM,CAClDD,GACF,CAAC"}